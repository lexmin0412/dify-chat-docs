"use strict";(self.webpackChunkdify_chat_docs=self.webpackChunkdify_chat_docs||[]).push([["8636"],{1126:function(e,n,a){a.r(n),a.d(n,{default:()=>c});var s=a(1549),h=a(6603);function d(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",pre:"pre",code:"code",img:"img"},(0,h.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"shell-脚本一键启动",children:["Shell 脚本一键启动",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#shell-脚本一键启动",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"如果你没有 Docker 环境，也可以通过源码启动项目，本小节将会教你如何通过脚本一键完成 Dify Chat 的项目构建和启动。"}),"\n",(0,s.jsxs)(n.h2,{id:"0-部署环境",children:["0. 部署环境",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#0-部署环境",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"在开始部署前，你需要准备好以下环境："}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Node.js >= 20"}),"\n",(0,s.jsx)(n.li,{children:"Pnpm >= 10.8.1"}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"1-clone-项目源码",children:["1. Clone 项目源码",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-clone-项目源码",children:"#"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"git clone git@github.com:lexmin0412/dify-chat.git\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"2-配置环境变量",children:["2. 配置环境变量",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-配置环境变量",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"进入项目目录："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd dify-chat\n"})}),"\n",(0,s.jsx)(n.p,{children:"配置 react-app 的环境变量："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd packages/react-app\ncp .env.template .env\n"})}),"\n",(0,s.jsx)(n.p,{children:"配置 platform 的环境变量："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd packages/platform\n# 注意这里要替换 DATABASE_URL 为你自己的数据库连接\ncp .env.template .env\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"3-运行启动脚本",children:["3. 运行启动脚本",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-运行启动脚本",children:"#"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chmod +x ./prod-start.sh\n./prod-start.sh\n"})}),"\n",(0,s.jsx)(n.p,{children:"脚本会帮你自动完成依赖安装，源码构建以及服务启动，稍等片刻后，看到如下图片则表示执行成功了："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"/guide__one_key_start.png",alt:"启动成功提示"})}),"\n",(0,s.jsxs)(n.p,{children:["访问 ",(0,s.jsx)(n.code,{children:"http://localhost:5300"}),"，你会看到 Platform 的初始化界面，依次输入用户名、邮箱、密码，即可创建一个管理员账号。此账号可用于 ",(0,s.jsx)(n.code,{children:"Dify Chat Platform"})," 的登录。"]}),"\n",(0,s.jsxs)(n.p,{children:["对于前端应用，你需要将 ",(0,s.jsx)(n.code,{children:"packages/react-app/dist"})," 中的产物通过 nginx 等静态文件服务器进行部署。"]}),"\n",(0,s.jsxs)(n.h2,{id:"4-修改环境变量",children:["4. 修改环境变量",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4-修改环境变量",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["如果你需要修改环境变量的值（如数据库连接地址），可以编辑第 2 步中创建的 .env 文件，然后重新运行 ",(0,s.jsx)(n.code,{children:"./prod-start.sh"})," 即可。"]})]})}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,h.ah)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}let c=r;r.__RSPRESS_PAGE_META={},r.__RSPRESS_PAGE_META["Latest%2Fguide%2Fdeploy%2Fone-key-start.md"]={toc:[{text:"0. 部署环境",id:"0-部署环境",depth:2},{text:"1. Clone 项目源码",id:"1-clone-项目源码",depth:2},{text:"2. 配置环境变量",id:"2-配置环境变量",depth:2},{text:"3. 运行启动脚本",id:"3-运行启动脚本",depth:2},{text:"4. 修改环境变量",id:"4-修改环境变量",depth:2}],title:"Shell 脚本一键启动",headingTitle:"Shell 脚本一键启动",frontmatter:{}}}}]);