"use strict";(self.webpackChunkdify_chat_docs=self.webpackChunkdify_chat_docs||[]).push([["8537"],{3649:function(e,n,d){d.r(n),d.d(n,{default:()=>c});var r=d(1549),i=d(6603);function s(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",img:"img",ul:"ul",li:"li",strong:"strong",h3:"h3",code:"code",pre:"pre",blockquote:"blockquote",ol:"ol"},(0,i.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"调试模式",children:["调试模式",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#调试模式",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"调试模式是 Dify Chat 提供的开发调试功能，允许开发者无需进行任何代码改动，也不需要依赖后端服务即可快速配置 API Key ，直连 Dify API 调试应用功能。"}),"\n",(0,r.jsxs)(n.h2,{id:"1-功能概览",children:["1. 功能概览",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-功能概览",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"进入调试模式后，你会看到应用列表的初始界面, 页面右下角有一个调试按钮。"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"/guide__debug_mode_main.png",alt:"初始界面"})}),"\n",(0,r.jsx)(n.p,{children:'点击页面右下角的 "调试按钮"，会打开一个抽屉，抽屉中包含了应用配置的编辑区域，你可以填入 Dify 的 API Base URL 和 API Key 。'}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"/guide__debug_mode_data_fulfilled.png",alt:"添加应用配置抽屉-填入信息"})}),"\n",(0,r.jsxs)(n.h2,{id:"2-使用场景",children:["2. 使用场景",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-使用场景",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"调试模式适用于以下场景："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"本地开发"}),"：在没有后端代理服务的情况下直连 Dify 进行前端开发"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"功能测试"}),"：测试不同应用配置下的界面表现"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"演示展示"}),"：使用模拟数据进行产品演示"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"问题排查"}),"：隔离服务器问题，专注于前端逻辑调试"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"3-如何开启",children:["3. 如何开启",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-如何开启",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"要开始调试模式，有两种方案，你可以按需选择。"}),"\n",(0,r.jsxs)(n.h3,{id:"31-直接在-url-中添加参数",children:["3.1. 直接在 URL 中添加参数",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#31-直接在-url-中添加参数",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"这种方案适合一次性调试的场景，适合临时排查问题或调试应用功能，调试完成后可以直接退出，回到正常的访问模式。"}),"\n",(0,r.jsxs)(n.p,{children:["开启方式：在浏览器地址栏的 URL 中添加 ",(0,r.jsx)(n.code,{children:"isDebug=true"})," 参数，例如："]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"http://localhost:5200/dify-chat/?isDebug=true\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"32-指定环境变量",children:["3.2. 指定环境变量",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#32-指定环境变量",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"这种方案适合长期开启调试模式的场景，不支持退出。"}),"\n",(0,r.jsxs)(n.p,{children:["开启方式：在 ",(0,r.jsx)(n.code,{children:"packages/react-app/public/env.js"})," 文件中，将调试模式的开关直接设置为 ",(0,r.jsx)(n.code,{children:"'true'"}),"（注意是字符串）, 然后运行 ",(0,r.jsx)(n.code,{children:"pnpm --filter dify-chat-app-react build"})," 重新构建产物即可生效。"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:'title="packages/react-app/public/env.js"',children:"window.__DIFY_CHAT_ENV__ = {\n  PUBLIC_DEBUG_MODE: 'true',\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["如果你是基于 docker compose 构建的，更方便的方式是在 ",(0,r.jsx)(n.code,{children:"docker-compose.yml"})," 中，将 ",(0,r.jsx)(n.code,{children:"react-app"})," 服务的 ",(0,r.jsx)(n.code,{children:"PUBLIC_DEBUG_MODE"})," 变量值改为 ",(0,r.jsx)(n.code,{children:"true"})," 之后重启容器。"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",meta:'title="docker-compose.yml"',children:"services:\n  react-app:\n    environment:\n      - PUBLIC_DEBUG_MODE=true\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"4-使用说明",children:["4. 使用说明",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4-使用说明",children:"#"})]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"不论你通过那种方式开启调试模式，所有相关数据均保存在 LocalStorage 和 SessionStorage 中，不会上传到任何第三方服务器，你可以放心使用。"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"41-操作步骤",children:["4.1. 操作步骤",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#41-操作步骤",children:"#"})]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"点击页面左下角的调试按钮"}),"\n",(0,r.jsx)(n.li,{children:"在配置编辑器中输入或修改 JSON 配置"}),"\n",(0,r.jsx)(n.li,{children:'可以点击"使用示例配置"按钮快速填入模板'}),"\n",(0,r.jsx)(n.li,{children:'点击"保存配置"按钮保存设置'}),"\n",(0,r.jsx)(n.li,{children:"页面会自动刷新，应用列表将显示配置的调试应用"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"42-注意事项",children:["4.2. 注意事项",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#42-注意事项",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"调试模式仅在开发环境中使用，生产环境不应启用"}),"\n",(0,r.jsx)(n.li,{children:"配置数据保存在浏览器本地，清除浏览器数据会丢失配置"}),"\n",(0,r.jsx)(n.li,{children:"调试应用的 API 密钥需要是真实有效的，才能正常进行对话"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"43-清除配置",children:["4.3. 清除配置",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#43-清除配置",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"要清除调试配置，可以："}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"在配置编辑器中点击退出调试按钮，或者清空内容后保存"}),"\n",(0,r.jsxs)(n.li,{children:["或者直接在浏览器开发者工具中删除 ",(0,r.jsx)(n.code,{children:"__DC__DEBUG_APPS"})," 键值对"]}),"\n"]})]})}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(s,{...e})}):s(e)}let c=h;h.__RSPRESS_PAGE_META={},h.__RSPRESS_PAGE_META["Latest%2Fguide%2Ffeatures%2Fdebug-mode.md"]={toc:[{text:"1. 功能概览",id:"1-功能概览",depth:2},{text:"2. 使用场景",id:"2-使用场景",depth:2},{text:"3. 如何开启",id:"3-如何开启",depth:2},{text:"3.1. 直接在 URL 中添加参数",id:"31-直接在-url-中添加参数",depth:3},{text:"3.2. 指定环境变量",id:"32-指定环境变量",depth:3},{text:"4. 使用说明",id:"4-使用说明",depth:2},{text:"4.1. 操作步骤",id:"41-操作步骤",depth:3},{text:"4.2. 注意事项",id:"42-注意事项",depth:3},{text:"4.3. 清除配置",id:"43-清除配置",depth:3}],title:"调试模式",headingTitle:"调试模式",frontmatter:{}}}}]);