"use strict";(self.webpackChunkdify_chat_docs=self.webpackChunkdify_chat_docs||[]).push([["7431"],{8131:function(e,n,s){s.r(n),s.d(n,{default:()=>l});var t=s(1549),i=s(6603),r=s(2118);function c(e){let n=Object.assign({h1:"h1",a:"a",p:"p",ul:"ul",li:"li",code:"code",pre:"pre"},(0,i.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.h1,{id:"自定义用户信息",children:["自定义用户信息",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#自定义用户信息",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"Dify Chat 涉及到的用户信息，目前主要包含两个属性："}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["在调用大部分 Dify API 时，需要传入 ",(0,t.jsx)(n.code,{children:"userId"}),"，用于标识用户身份。"]}),"\n",(0,t.jsxs)(n.li,{children:["在应用列表界面，需要通过 ",(0,t.jsx)(n.code,{children:"enableSetting"})," 参数，控制是否展示应用编辑相关的功能呢"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["默认情况下，Dify Chat 会使用 ",(0,t.jsx)(n.code,{children:"FingerprintJS"})," 生成一个唯一的用户 ID，并将其作为 ",(0,t.jsx)(n.code,{children:"userId"})," 参数传入。同时，",(0,t.jsx)(n.code,{children:"enableSetting"})," 参数默认为 ",(0,t.jsx)(n.code,{children:"true"}),"。"]}),"\n",(0,t.jsxs)(n.p,{children:["如果你希望控制 ",(0,t.jsx)(n.code,{children:"userId"})," 和 ",(0,t.jsx)(n.code,{children:"enableSetting"})," 的生成逻辑，可以自定义登录逻辑："]}),"\n",(0,t.jsxs)(r.mQ,{children:[(0,t.jsx)(r.OK,{label:"React SPA",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",meta:'title="packages/react-app/src/pages/auth/index.tsx"',children:"/**\n * 模拟登录\n */\nconst mockLogin = async () => {\n	const fp = await FingerPrintJS.load()\n	const result = await fp.get()\n	return {\n		userId: result.visitorId,\n		enableSetting: true\n	}\n}\n"})})}),(0,t.jsx)(r.OK,{label:"Next.js",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",meta:'title="packages/nextjs-app/app/auth/login/page.tsx"',children:"/**\n * 模拟登录\n */\nconst mockLogin = async (): Promise<{userId: string, enableSetting: boolean}> => {\n	const fp = await FingerPrintJS.load();\n	const result = await fp.get();\n	// 调用登录 server action\n	const userInfo = await loginAction(result.visitorId);\n	return userInfo\n};\n"})})})]})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}let l=a;a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["v0.4.x%2Fguide%2Fapp-config%2Fcustom-user-info.mdx"]={toc:[],title:"自定义用户信息",headingTitle:"自定义用户信息",frontmatter:{}}}}]);